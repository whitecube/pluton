export default class s{constructor(){this.instances={},this.loadModules().then(s=>{this.classes=s,this.setup()})}async loadModules(){let s=import.meta.glob("../../../resources/js/parts/*.js"),t=[],e=Object.keys(s);for(let l=0;l<e.length;l++)t.push(s[e[l]]());let a=await Promise.all(t);return new Promise(s=>{let t={};a.forEach(s=>{let e=s.default;t[e.selector]=e}),s(t)})}setup(s){for(var t in this.classes)this.setupComponent(t,this.classes[t],s)}setupComponent(s,t,e){t.selector&&[].forEach.call((e||document).querySelectorAll(t.selector),e=>{this.instances[s]||(this.instances[s]=[]),this.instances[s].push(new t(e))})}call(s,t,e){if(this.instances[s])for(var l=this.instances[s].length-1;l>=0;l--)this.instances[s][l][t](e)}};
